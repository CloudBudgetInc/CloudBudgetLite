<!-- sldsValidatorIgnore -->
<template>
	<button class="slds-button slds-button_neutral" onclick={openWindow} title="Add new folder inside selected folder">
		Add Nested Folder
	</button>

	<template if:true={showDialog}>
		<section
			role="dialog"
			tabindex="-1"
			aria-labelledby="modal-heading-01"
			aria-modal="true"
			aria-describedby="modal-content-id-1"
			class="slds-modal slds-fade-in-open slds-modal_small"
		>
			<div class="slds-modal__container">
				<!-- SPINNER -->
				<c-cb-spinner show={showSpinner}></c-cb-spinner>
				<!-- SPINNER -->
				<button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeWindow}>
					<lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse" size="small"></lightning-icon>
					<span class="slds-assistive-text">Close</span>
				</button>
				<div class="shadow">
					<div class="slds-modal__content slds-p-around_medium slds-modal__content_headless">
						<lightning-record-edit-form object-api-name={folderObject} onsuccess={handleSuccess}>
							<lightning-input-field field-name={nameField}> </lightning-input-field>
							<lightning-input-field field-name={typeField} value={folderType} disabled> </lightning-input-field>
							<lightning-input-field field-name={parentFolderField} value={parentFolderId} disabled> </lightning-input-field>
							<div class="slds-var-m-top_medium">
								<lightning-button variant="brand" type="submit" label="Save"> </lightning-button>
							</div>
						</lightning-record-edit-form>
					</div>
				</div>
			</div>
		</section>
		<div class="slds-backdrop slds-backdrop_open"></div>

	</template>
</template>