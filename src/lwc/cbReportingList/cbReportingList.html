<template>
    <!-- THE MAIN TABLE -->
    <lightning-card title="Reporting System" variant="Narrow" icon-name="standard:account">

        <lightning-button-icon icon-name="utility:add" variant="brand" alternative-text="Create Report"
                               onclick={createReport}
                               slot="actions"></lightning-button-icon>

        <lightning-layout>

            <table class="slds-table slds-table_cell-buffer slds-table_bordered">
                <thead>
                <tr class="slds-line-height_reset">
                    <th>
                        <div class="slds-truncate" title="Name">Name</div>
                    </th>
                    <th>
                        <div class="slds-truncate" title="Description">Description</div>
                    </th>
                    <th>
                        <div class="slds-truncate" title="Action">Action</div>
                    </th>
                </tr>
                </thead>

                <tbody>

                <template for:each={reportList} for:item="report">
                    <tr class="slds-hint-parent" key={report.Id}>
                        <th data-label="Name">
                            <div class="slds-truncate">{report.Name}</div>
                        </th>
                        <td data-label="Description">
                            <div class="slds-truncate">{report.cblight__Description__c}</div>
                        </td>
                        <td data-label="Actions">
                            <lightning-button-group>
                                <lightning-button label="Open" onclick={openReport}
                                                  value={report.Id}></lightning-button>
                                <lightning-button variant="destructive" label="Delete" value={report.Id}
                                                  onclick={deleteReport}></lightning-button>
                            </lightning-button-group>
                        </td>
                    </tr>
                </template>

                </tbody>

            </table>

        </lightning-layout>
    </lightning-card>


    <!-- SPINNER -->
    <c-cb-spinner show={showSpinner}></c-cb-spinner>
    <!-- SPINNER -->

</template>